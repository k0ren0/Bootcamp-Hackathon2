<!-- registration_form.html -->

<h2>Регистрация</h2>

<!-- Форма регистрации -->
<form id="registrationForm">
  <!-- Ваши поля формы здесь -->

  <button type="submit">Зарегистрироваться</button>
</form>

<!-- Кнопка входа через Google -->
<div class="g-signin2" data-onsuccess="onGoogleSignIn"></div>

<!-- Ваш JavaScript-код -->
<script>
  // Обработка успешного входа через Google
  function onGoogleSignIn(googleUser) {
    // Получаем профиль пользователя
    var profile = googleUser.getBasicProfile();

    // Отправляем данные на сервер для регистрации
    fetch('http://localhost:3000/register/google', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        id: profile.getId(),
        name: profile.getName(),
        email: profile.getEmail(),
        // Другие данные, которые вы хотите отправить
      })
    })
    .then(response => response.json())
    .then(data => {
      // Обработка ответа от сервера
      console.log(data);
    })
    .catch(error => {
      console.error('Error:', error);
    });
  }

  // Дополнительный JavaScript-код
</script>
